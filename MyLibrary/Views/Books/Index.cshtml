@model IEnumerable<MyLibrary.Models.Book>

@{
    ViewBag.Title = "Index";
}
@section Styles{
    <link href="@Url.Content("~/Styles/Books/index.css")" rel="stylesheet" type="text/css" />
}

<h2>Baza książek</h2>
<p>
    <a href="@Url.Action("Create")" class="btn btn-warning">
        Dodaj nową ręcznie
        <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>
    </a>
    <a href="@Url.Action("CreateExternal")" class="btn btn-warning">
        Dodaj nową z Lubimyczytac.pl
        <span class="glyphicon glyphicon-book" aria-hidden="true"></span>
    </a>
</p>

<form id="my_form">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-book"></i></span>
        <input id="authorBook" type="text" class="form-control" name="SearchTitleString" placeholder="Find by title">
    </div>
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <input id="titleBook" type="text" class="form-control" name="SearchAuthorString" placeholder="Find by author">
    </div>
    <div class="input-group">
        <button type="submit" class="btn btn-default">Szukaj</button>
    </div>
</form>



@{
    var j = 0;
    while (j < Model.Count())
    {
        <div class="row form-group">
            @for (var k = 0; k < 4 && j < Model.Count(); k++)
            {
                <div class="col-md-3">
                    <div class="thumbnail">
                        <a href="@Model.ElementAt(j).UrlPhoto">
                            <img class="img-responsive" src="@Model.ElementAt(j).UrlPhoto" alt="Cover of a book" />
                        </a>
                        <div class="caption">
                            <h3><span id="boldH3">@Model.ElementAt(j).Title</span></h3>
                            <h4>@Model.ElementAt(j).Author</h4>
                            <p>
                                @Html.ActionLink("Edytuj", "Edit", new { id = Model.ElementAt(j).Id }) |
                                @Html.ActionLink("Szczegóły", "Details", new { id = Model.ElementAt(j).Id }) |
                                @Html.ActionLink("Usuń", "Delete", new { id = Model.ElementAt(j).Id })

                            </p>
                            <form class="form-inline" method="post" action="@Url.Action("AddBookToLibrary", "BookInLibraries", new { id = Model.ElementAt(j).Id })">
                                <div class="input-group">
                                    @Html.DropDownList("libraryId", new SelectList(ViewBag.Libraries, "Id", "ApplicationUser.UserName"), null, new { @class = "form-control" })
                                </div>
                                <div class="input-group">
                                    <button type="submit" value="Others" class="btn btn-default">Dodaj do biblioteki</button>
                                </div>
                            </form>
                        </div>

                    </div>
                </div>
                j++;
            }

        </div>


    }
}










