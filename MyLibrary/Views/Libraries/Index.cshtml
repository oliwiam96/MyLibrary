@model MyLibrary.Models.LibraryViewModel

@{
    ViewBag.Title = "Index";
}
@section Styles{
    <link href="@Url.Content("~/Styles/Books/index.css")" rel="stylesheet" type="text/css" />
}

<h2>Biblioteczka</h2>
<h3>Właścicel: @Model.Library.ApplicationUser.UserName</h3>

<form id="my_form">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-book"></i></span>
        <input id="authorBook" type="text" class="form-control" name="SearchTitleString" placeholder="Find by title">
    </div>
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <input id="titleBook" type="text" class="form-control" name="SearchAuthorString" placeholder="Find by author">
    </div>
    <div class="input-group">
        <button type="submit" class="btn btn-default">Szukaj</button>
    </div>
</form>

<div class="panel panel-default">
    <div class="panel-heading">
        <h2>
            <a data-toggle="collapse" href="#collapse1">Moje książki na półce</a>
        </h2>
        <p>Książki należące do tej bilioteki, które aktualnie znajdują się na półce.</p>
    </div>
    <div id="collapse1" class="panel-collapse collapse in">
        <div class="panel-body">
            @{
                var jj = 0;
                while (jj < Model.BookInLibraryCurrent.Count())
                {
                    <div class="row form-group">
                        @for (var k = 0; k < 4 && jj < Model.BookInLibraryCurrent.Count(); k++)
                        {
                            <div class="col-md-3">
                                <div class="thumbnail">
                                    <a href="@Model.BookInLibraryCurrent.ElementAt(jj).Book.UrlPhoto">
                                        <img class="img-responsive" src="@Model.BookInLibraryCurrent.ElementAt(jj).Book.UrlPhoto" alt="Cover of a book" />
                                    </a>
                                    <div class="caption">
                                        <h3>@Model.BookInLibraryCurrent.ElementAt(jj).Book.Title</h3>
                                        <h4>@Model.BookInLibraryCurrent.ElementAt(jj).Book.Author</h4>
                                        <p>
                                            @Html.ActionLink("Więcej", "More",
                                                                              "BookInLibraries", new { id = Model.BookInLibraryCurrent.ElementAt(jj).Id }, null) |
                                            @Html.ActionLink("Usuń", "DeleteBookFromLibrary",
                                                                             "BookInLibraries", new { id = Model.BookInLibraryCurrent.ElementAt(jj).Id },
                                                                             new { onclick = "return confirm('Czy na pewno chcesz usunąć tę pozycję?');" })
                                        </p>
                                    </div>

                                </div>
                            </div>
                            jj++;
                        }
                    </div>
                }
            }
        </div>
    </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading">
        <h2>
            <a data-toggle="collapse" href="#collapse2">Książki wypożyczone do mojej biblioteki</a>
        </h2>
        <p>Książki należące do innej bilioteki, które tymczasowo znajdują się w tej bibliotece.</p>
    </div>
    <div id="collapse2" class="panel-collapse collapse in">
        <div class="panel-body">
            @{
                var jjj = 0;
                while (jjj < Model.BookInLibraryRentalInside.Count())
                {
                    <div class="row form-group">
                        @for (var k = 0; k < 4 && jjj < Model.BookInLibraryRentalInside.Count(); k++)
                        {
                            <div class="col-md-3">
                                <div class="thumbnail">
                                    <a href="@Model.BookInLibraryRentalInside.ElementAt(jjj).Book.UrlPhoto">
                                        <img class="img-responsive" src="@Model.BookInLibraryRentalInside.ElementAt(jjj).Book.UrlPhoto" alt="Cover of a book" />
                                    </a>
                                    <div class="caption">
                                        <h3>@Model.BookInLibraryRentalInside.ElementAt(jjj).Book.Title</h3>
                                        <h4>@Model.BookInLibraryRentalInside.ElementAt(jjj).Book.Author</h4>
                                        <p>
                                            @Html.ActionLink("Szczegóły", "Details", new { id = Model.BookInLibraryRentalInside.ElementAt(jjj).Book.Id }) |
                                            @Html.ActionLink("Usuń", "Delete", new { id = Model.BookInLibraryRentalInside.ElementAt(jjj).Book.Id })
                                        </p>
                                    </div>

                                </div>
                            </div>
                            jjj++;
                        }

                    </div>
                }
            }

        </div>
    </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading">
        <h2>
            <a data-toggle="collapse" href="#collapse3">Książki wypożyczone z mojej biblioteki</a>

        </h2>
        <p>Książki należące do tej bilioteki, które tymczasowo znajdują się w innej bibliotece (są wypożyczone).</p>
    </div>
    <div id="collapse3" class="panel-collapse collapse in">
        <div class="panel-body">
            @{
                var j = 0;
                while (j < Model.BookInLibraryRentalOutside.Count())
                {
                    <div class="row form-group">
                        @for (var k = 0; k < 4 && j < Model.BookInLibraryRentalOutside.Count(); k++)
                        {
                            <div class="col-md-3">
                                <div class="thumbnail">
                                    <a href="@Model.BookInLibraryRentalOutside.ElementAt(j).Book.UrlPhoto">
                                        <img class="img-responsive" src="@Model.BookInLibraryRentalOutside.ElementAt(j).Book.UrlPhoto" alt="Cover of a book" />
                                    </a>
                                    <div class="caption">
                                        <h3>@Model.BookInLibraryRentalOutside.ElementAt(j).Book.Title</h3>
                                        <h4>@Model.BookInLibraryRentalOutside.ElementAt(j).Book.Author</h4>
                                        <p>
                                        <p>
                                            @Html.ActionLink("Więcej", "More",
                                               "BookInLibraries", new { id = Model.BookInLibraryRentalOutside.ElementAt(j).Id }, null) |
                                            @Html.ActionLink("Usuń", "DeleteBookFromLibrary",
                                              "BookInLibraries", new { id = Model.BookInLibraryRentalOutside.ElementAt(j).Id },
                                              new { onclick = "return confirm('Czy na pewno chcesz usunąć tę pozycję?');" })
                                        </p>
                                        </p>
                                    </div>

                                </div>
                            </div>
                            j++;
                        }
                    </div>
                }
            }
        </div>
    </div>
</div>
